---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Breadcrumbs from '../navigation/Breadcrumbs.astro';

import type { BreadcrumbTrail } from '../../utils/breadcrumbs';

interface Props {
  title: string;
  description?: string;
  /**
   * Breadcrumb trail describing the current marketing surface. Defaulting to an empty array keeps
   * hero-only experiences simple while enabling automated trails supplied by the helpers in
   * `src/utils/breadcrumbs`.
   */
  breadcrumbs?: BreadcrumbTrail;
}

const { title, description, breadcrumbs = [] } = Astro.props as Props;

const normalizedTitle = `${title} | Apotheon.ai`;
const metaDescription =
  description ??
  'Composable marketing surfaces render statically for global performance while capturing enterprise-ready storytelling.';
---

{
  /*
  MarketingShell centralizes BaseLayout usage so every marketing page inherits consistent metadata,
  typography, and footer guidance. Authoring teams only pass high-level metadata while this shell
  handles canonical document order (breadcrumbs → hero → content → CTAs).
*/
}
<BaseLayout title={normalizedTitle} description={metaDescription}>
  <section class="mx-auto flex w-full max-w-5xl flex-col gap-12 px-6 pb-16">
    {breadcrumbs.length > 0 && <Breadcrumbs class="mt-6" trail={breadcrumbs} />}

    {
      /*
      Content composers inject hero, article content, and CTAs as slot children. Keep slot usage in
      the same order across pages to preserve consistent scanning behavior for humans and crawlers.
    */
    }
    <div class="flex flex-col gap-12">
      <slot />
    </div>
  </section>
</BaseLayout>
