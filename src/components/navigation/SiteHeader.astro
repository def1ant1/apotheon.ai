---
import { getValidatedNavigationGroups } from './navigationData';
import MobileNavigationDrawer from '../islands/MobileNavigationDrawer';
import RadixNavigationMenu, { type NavigationMenuGroup } from '../islands/RadixNavigationMenu';

/**
 * Consolidated navigation data lives in `navigationData.ts`. Centralizing the lookup allows the
 * header, footer, Ladle stories, and any future surfaces to hydrate from a single validation
 * pipeline while still receiving strongly typed objects.
 */
const sanitizedMenuGroups: ReadonlyArray<NavigationMenuGroup> =
  await getValidatedNavigationGroups();
---

<header
  class="sticky top-0 z-40 flex justify-center bg-surface-base/70 px-gutter-inline pb-space-sm pt-space-xs backdrop-blur supports-[backdrop-filter]:bg-surface-base/60"
>
  <div class="flex w-full max-w-5xl flex-col gap-space-xs">
    <a class="sr-only focus:not-sr-only" href="#main">Skip to content</a>

    <div class="flex items-start justify-between gap-space-xs">
      <div class="flex flex-col gap-space-3xs">
        <a
          href="/"
          class="text-title-sm font-black tracking-tight text-ink-primary transition hover:text-accent-brand"
        >
          Apotheon.ai
        </a>
        <p class="text-caption text-ink-muted sm:text-body-sm">
          Automation-first GTM fabric for enterprise AI launches.
        </p>
      </div>

      <div class="sm:hidden">
        <MobileNavigationDrawer client:idle groups={sanitizedMenuGroups} />
      </div>
    </div>

    <div class="hidden sm:block">
      <RadixNavigationMenu client:idle groups={sanitizedMenuGroups} />
    </div>
  </div>
</header>
