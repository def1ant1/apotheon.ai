/*
  Self-host the Inter variable font via @fontsource so typography ships from our
  own origin. This satisfies CSP policies (no third-party font CDNs) while still
  delivering the variable-weight range with font-display: swap baked in.
*/
@import '@fontsource-variable/inter/index.css';

/*
  Import the design token CSS variables before Tailwind runs so every layer
  (base, components, utilities) can read the values. The Tailwind config wires
  semantic colors/spacing/typography to these variables.
*/
@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

/*
  Centralized global styles keep cross-page UX aligned. Leverage Tailwind's
  design tokens for consistency and long-term maintainability.
*/

/*
  Documented theming strategy -------------------------------------------------
  - Tokens define light/dark palettes using `[data-theme]` selectors.
  - We expose a `data-theme="dark"` toggle on `<html>` (or any ancestor) to flip
    seamlessly without repainting the entire page.
  - Base styles below consume Tailwind utilities that read from those tokens, so
    component islands pick up updates automatically.
*/

html {
  /* Keep height pinned so modals/backdrops fill the viewport regardless of content. */
  min-height: 100%;
}

body {
  /*
    Tailwind's `font-sans` now resolves to a system-first stack (per config) so
    first paint is stable. Once Inter Variable loads we inherit it without
    layout shift. The background/text colors route through semantic tokens so
    theme flips happen instantly.
  */
  @apply bg-surface-base font-sans text-ink-primary antialiased;
  background-color: hsl(var(--color-surface-base));
  color: hsl(var(--color-ink-primary));
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  transition:
    background-color 180ms ease,
    color 180ms ease;
}

body[data-theme='dark'],
html[data-theme='dark'] body {
  /* Provide an explicit hook so nested theme scopes (e.g., docs sandbox) work. */
  background-color: hsl(var(--color-surface-base));
  color: hsl(var(--color-ink-primary));
}

main {
  /*
    Center the main column and honor responsive spacing tokens for enterprise
    dashboards and marketing pages alike. The clamp-based gutters from
    `tokens.css` mean designers tweak a single value to realign the entire
    layout.
  */
  @apply mx-auto flex min-h-screen max-w-5xl flex-col gap-space-xl px-gutter-inline pb-space-3xl pt-space-2xl;
}

a {
  /*
    Link color uses the accent brand token to meet WCAG AA across themes. Focus
    states lean on the shared focus-ring shadow so the outline matches component
    controls.
  */
  @apply font-semibold text-accent-brand transition focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-brand;
  text-decoration-color: hsl(var(--color-accent-brand));
}

a:hover {
  @apply text-accent-brand/80;
}

code {
  /* Inline code surfaces leverage raised backgrounds + inverted ink. */
  @apply rounded-radius-sm bg-surface-overlay/80 px-space-3xs py-[0.35rem] font-mono text-caption text-ink-inverted shadow-elevation-1;
}

/*
  Radix Navigation Menu styling: we encapsulate the look-and-feel into small utility
  classes so other islands can opt into the same primitives without duplicating
  Tailwind declarations. All class names use a namespace (`navigation-*`) to avoid
  collisions with existing layout utilities.
*/

.navigation-surface {
  /* The global navigation bar references raised surfaces + blur for glassmorphism. */
  @apply relative mx-auto flex w-full max-w-4xl items-center justify-center gap-space-sm rounded-radius-2xl border border-border-subtle/70 bg-surface-raised/70 px-space-md py-space-sm text-body-sm text-ink-secondary shadow-elevation-2 backdrop-blur supports-[backdrop-filter]:bg-surface-raised/50;
}

.navigation-list {
  @apply flex flex-wrap items-center justify-center gap-space-sm;
}

.navigation-trigger {
  @apply inline-flex items-center gap-space-3xs rounded-radius-pill border border-transparent bg-transparent px-space-sm py-space-2xs font-semibold text-ink-muted transition-colors duration-200 hover:text-ink-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-brand data-[state=open]:border-border-strong data-[state=open]:bg-surface-overlay/80 data-[state=open]:text-ink-primary;
}

.navigation-trigger__chevron {
  @apply text-xs text-ink-muted transition-transform duration-200 group-data-[state=open]:-rotate-180;
}

.navigation-content {
  @apply absolute left-1/2 top-full z-10 mt-space-sm w-[min(36rem,90vw)] -translate-x-1/2 space-y-space-sm rounded-radius-2xl border border-border-subtle/80 bg-surface-overlay/95 p-space-lg text-left text-ink-secondary shadow-elevation-3 backdrop-blur-xl supports-[backdrop-filter]:bg-surface-overlay/80;
}

.navigation-content__description {
  @apply text-body-sm text-ink-muted;
}

.navigation-grid {
  @apply grid gap-space-sm pt-space-xs sm:grid-cols-2;
}

.navigation-grid__item {
  @apply h-full;
}

.navigation-link {
  @apply block h-full space-y-[0.375rem] rounded-radius-xl border border-transparent bg-surface-base/60 px-space-md py-space-sm text-left text-ink-secondary transition duration-200 hover:border-accent-brand/60 hover:bg-surface-overlay/80 hover:text-ink-primary hover:shadow-elevation-1 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent-brand;
}

.navigation-grid__heading {
  @apply text-title-md font-semibold text-ink-primary;
}

.navigation-grid__copy {
  @apply text-body-sm text-ink-muted;
}

.navigation-indicator {
  @apply pointer-events-none absolute top-full flex h-3 items-end justify-center overflow-hidden;
}

.navigation-indicator__arrow {
  @apply h-3 w-3 rotate-45 rounded-radius-xs bg-surface-overlay shadow-elevation-2;
}

.navigation-viewport {
  @apply pointer-events-none absolute left-0 top-full z-10 mt-space-sm w-full rounded-radius-2xl border border-transparent bg-transparent opacity-0 transition-opacity duration-200 data-[state=open]:pointer-events-auto data-[state=open]:opacity-100;
}
