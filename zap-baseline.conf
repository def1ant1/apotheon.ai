# Restrict scanning exclusively to the locally served Astro preview so ZAP does
# not wander into unrelated assets or third-party properties.
context.context_list(0).name=DistPreview
context.context_list(0).inScope=true
context.context_list(0).include_regex_list(0).regex=^http://127\\.0\\.0\\.1:4321/.*$
context.context_list(0).include_regex_list(0).enabled=true
context.context_list(0).include_regex_list(1).regex=^http://host\\.docker\\.internal:4321/.*$
context.context_list(0).include_regex_list(1).enabled=true
context.context_list(0).exclude_regex_list(0).regex=^http://127\\.0\\.0\\.1:4321/__astro/.*$
context.context_list(0).exclude_regex_list(0).enabled=true
context.context_list(0).exclude_regex_list(1).regex=^http://host\\.docker\\.internal:4321/__astro/.*$
context.context_list(0).exclude_regex_list(1).enabled=true

# Tight crawl budgets keep the baseline scan deterministic during CI runs.
spider.maxDuration=5
spider.maxDepth=3
ajaxSpider.maxDuration=3
ajaxSpider.maxCrawlDepth=2
